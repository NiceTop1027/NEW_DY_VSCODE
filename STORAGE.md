# 💾 저장소 설정 가이드

## 현재 상태

Railway 배포 시 **임시 저장소 (/tmp)** 사용 중입니다.

### ⚠️ 임시 저장소의 문제점:
- 서버 재시작 시 **모든 파일 삭제**
- 배포할 때마다 **작업 내용 초기화**
- 사용자가 작성한 코드 **영구 보존 불가**

---

## ✅ 해결 방법: Railway Volume 추가

### 1단계: Railway Volume 생성

1. **Railway 대시보드 접속**
   - https://railway.app

2. **프로젝트 선택**
   - dy-vscode 프로젝트 클릭

3. **Volume 추가**
   - **Settings** → **Volumes** 탭
   - **Add Volume** 클릭
   - 설정:
     ```
     Mount Path: /data
     Size: 1GB (또는 필요한 크기)
     ```
   - **Create** 클릭

### 2단계: 환경 변수 확인

Volume을 추가하면 자동으로 환경 변수가 생성됩니다:
```
RAILWAY_VOLUME_MOUNT_PATH=/data
```

서버가 자동으로 이 경로를 감지하여 사용합니다.

### 3단계: 재배포

Volume 추가 후 Railway가 자동으로 재배포됩니다.

---

## 📊 저장소 비교

| 항목 | /tmp (현재) | Volume (권장) |
|------|-------------|---------------|
| **영구성** | ❌ 재시작 시 삭제 | ✅ 영구 보존 |
| **용량** | 제한적 | 1GB+ |
| **속도** | 빠름 | 빠름 |
| **비용** | 무료 | 유료 ($0.25/GB/월) |
| **백업** | 불가능 | 가능 |

---

## 🔍 저장소 상태 확인

서버 시작 시 로그에서 확인:

```
╔════════════════════════════════════════════════════════════╗
║  🚀 덕영고등학교 VS Code 서버 시작됨                        ║
╠════════════════════════════════════════════════════════════╣
║  포트: 3000                                                ║
║  작업 디렉토리: /data/workspace                            ║
║  저장소 타입: 영구 (Volume)  ✅                            ║
╚════════════════════════════════════════════════════════════╝
```

**"임시 (메모리)"** → Volume 추가 필요
**"영구 (Volume)"** → 정상 작동 중

---

## 💰 비용

### Railway Volume 가격:
- **$0.25/GB/월**
- 1GB Volume = 월 $0.25
- 5GB Volume = 월 $1.25

### 예상 사용량:
- **학교 프로젝트:** 1-2GB 충분
- **개인 사용:** 500MB-1GB
- **팀 프로젝트:** 2-5GB

---

## 🎯 권장 사항

### 학교 프로젝트용:
✅ **Railway Volume 1GB 추가**
- 월 $0.25 (약 300원)
- 영구 저장 보장
- 백업 가능

### 개인 테스트용:
⚠️ **임시 저장소 사용**
- 무료
- 재시작 시 초기화
- 중요 파일은 GitHub에 백업

---

## 📝 추가 정보

Railway Volume 문서:
https://docs.railway.app/reference/volumes
